<form class="mage-form">

<!-- 
<div class="debug">
	Debug : _id = {{ actor._id }} | currentTab = {{ data.currentTab }}
</div>-->

<div	class="flex-row flex-center pad-4">
	<button tab-name="character" 
		{{#if_equal data.currentTab "character"}} selected {{/if_equal}} 
	class="btn btn-large btn-main-tab">Character</button>
	<button tab-name="equipment" 
		{{#if_equal data.currentTab "equipment"}} selected {{/if_equal}} 
		class="btn btn-large btn-main-tab">Equipment</button>
	<button tab-name="spellbook" 
		{{#if_equal data.currentTab "spellbook"}} selected {{/if_equal}} 
		class="btn btn-large btn-main-tab">
		Spellbook</button>
	<button tab-name="development" class="btn btn-large btn-main-tab"
		{{#if_equal data.currentTab "development"}} selected {{/if_equal}}>
		Development
	</button>
</div>

<hr class="flaired-divider">

{{#if_equal data.currentTab "character" }}
<div id="character" class="tab character-container character-tab">
	<div class="header grid-child">
		<div class="flex-row">

			<div class="flex-1">
				<img class="character-icon" data-edit="img" src="{{ actor.img }}">
			</div>

			<div class="flex-3">
				<section class="table">
					<div class="row">
						<div class="col">Character</div>
						<div class="col-left-align">
							<input name="name" value="{{ actor.name }}" class="input-text input-wide">
						</div>
					</div>

					<div class="row">
						<div class="col">Tradition</div>
						<div class="col-left-align">
							<select name="data.tradition" class="input-text input-wide">
								{{#select data.tradition }}
								<option value=""></option>
								<option value="">-- Artifice</option>
								<option value="SOCEITY">Soceity of Ether</option>
								<option value="BELARUS">Belarus Clan</option>
								<option value="SOLIFICATI">Solificati</option>
								<option value="VOID">Void Engineers</option>
								<option value="">-- Theurgy</option>
								<option value="ORDER">Order of Hermes</option>
								<option value="STIGMATA">Stigmata Cabal</option>
								<option value="TAFTANI">Taftani</option>
								<option value="VAULDERMEN">Vauldermen</option>
								<option value="">-- Conviction</option>
								<option value="CULT">Cult of Grammaticus</option>
								<option value="ONIBABA">Onibaba</option>
								<option value="CELESTIAL">Celestial Chorus</option>
								<option value="EUTHANATOS">Euthanatos</option>
								<option value="BROTHERHOOD">Brotherhood of the Rule</option>
								{{/select }}
							</select>
						</div>
					</div>

					<div class="row">
						<div class="col">Mystic Physical</div>
						<div class="col-left-align">
							<select name="data.mystictraits.physical"  class="input-text input-wide">
								{{#select data.mystictraits.physical }}
								<option value=""> -- </option>
								<option value="str">Strength</option>
								<option value="dex">Dexerity</option>
								<option value="cha">Charisma</option>
								{{/select}}
							</select>
						</div>
					</div>

					<div class="row">
						<div class="col">Mystic Mental</div>
						<div class="col-left-align">
							<select name="data.mystictraits.mental" class="input-text input-wide">
								{{#select data.mystictraits.mental }}
								<option value=""> -- </option>
								<option value="int">Intelligence</option>
								<option value="cor">Courage</option>
								<option value="per">Perception</option>
								{{/select }}
							</select>
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						</div>
					</div>
				</section>
			</div>

			<div class="flex-2">
				<img class="mage-icon" src="systems/mage/img/sheets/MageLogo.png">
			</div>
		</div>
	</div> <!-- End pf Header-->

	<div class="traits">

	<div class="gen-header">
		<div class="traits-header">Traits</div>
	</div>

	<div class="grid-child">
	<div class="flex-row">

		<div class="trait-box flex-row" trait-drag="str">
			<div class="flex-col">

				<div class="trait-header-margin"><h4 class="sub-header">Strength</h4></div>
				<div class="big-trait-container">
					<input disabled class="input-trait-subscript" value="{{ data.traitParts.str.value }}">
					<button trait-name="str" class="btn btn-medium btn-traits">
						<span class="inline-icon">&#127922;</span>
						<span class="{{#stat_display data.traitParts.str.total data.traitParts.str.value data.traitParts.str.value }}{{/stat_display}}">
							{{ data.traitParts.str.total }}
						</span>
					</button>
				</div>

				<div class="small-header flex-row">
					<div>&nbsp;Bonus</div>
					<div><input type="number" name="data.traitParts.str.perm" value="{{ data.traitParts.str.perm }}" class="input-number" type="number"></div>
				</div>
				
			</div>
		</div>

		<div class="trait-box flex-row" trait-drag="dex">
			<div class="flex-col">

				<div><h4 class="sub-header">Dexerity</h4></div>
				<div class="big-trait-container">
					<input disabled class="input-trait-subscript" value="{{ data.traitParts.dex.value }}" >
					<button trait-name="dex" class="btn btn-medium btn-traits">
						<span class="inline-icon">&#127922;</span>
						<span class="{{#stat_display data.traitParts.dex.total data.traitParts.dex.value data.traitParts.dex.value }}{{/stat_display}}">
							{{ data.traitParts.dex.total }}
						</span>
					
					</button>
				</div>

				<div class="small-header flex-row">
					<div>&nbsp;Bonus</div>
					<div><input class="input-number" type="number"
						name="data.traitParts.dex.perm"
						value="{{ data.traitParts.dex.perm }}"></div>
				</div>
				
			</div>
		</div>

		<div class="trait-box flex-row" trait-drag="per">
			<div class="flex-col">

				<div><h4 class="sub-header">Perception</h4></div>
				<div class="big-trait-container">
					<input value="{{ data.traitParts.per.value }}" disabled class="input-trait-subscript">
					<button trait-name="per" class="btn btn-medium btn-traits">
						<span class="inline-icon">&#127922;</span>
						<span class="{{#stat_display data.traitParts.per.total data.traitParts.per.value data.traitParts.per.value }}{{/stat_display}}">
							{{ data.traitParts.per.total }}
						</span>
					</button>
				</div>

				<div class="small-header flex-row">
					<div>&nbsp;Bonus</div>
					<div><input class="input-number" type="number"
						name="data.traitParts.per.perm"
						value="{{ data.traitParts.per.perm }}"></div>
				</div>
				
			</div>
		</div>

	</div><!-- End of first row.-->

	<div class="flex-row">

		<div class="trait-box flex-row" trait-drag="int">
			<div class="flex-col">

				<div><h4 class="sub-header">Intelligence</h4></div>
				<div class="big-trait-container">
					<input value="{{ data.traitParts.int.value }}" disabled class="input-trait-subscript">
					<button trait-name="int" class="btn btn-medium btn-traits">
						<span class="inline-icon">&#127922;</span>
						<span class="{{#stat_display data.traitParts.int.total data.traitParts.int.value data.traitParts.int.value }}{{/stat_display}}">
							{{ data.traitParts.int.total }}
						</span>
					</button>
				</div>

				<div class="small-header flex-row">
					<div>&nbsp;Bonus</div>
					<div><input class="input-number" type="number" 
						name="data.traitParts.int.perm"
						value="{{ data.traitParts.int.perm }}"></div>
				</div>
					
			</div>
		</div>
		
		<div class="trait-box flex-row" trait-drag="cha">
		<div class="flex-col">

			<div><h4 class="sub-header">Charisma</h4></div>
			<div class="big-trait-container">
				<input value="{{ data.traitParts.cha.value }}" disabled class="input-trait-subscript">
				<button trait-name="cha" class="btn btn-medium btn-traits">
					<span class="inline-icon">&#127922;</span>
					<span class="{{#stat_display data.traitParts.cha.total data.traitParts.cha.value data.traitParts.cha.value }}{{/stat_display}}">
						{{ data.traitParts.cha.total }}
					</span>
				</button>
			</div>

			<div class="small-header flex-row">
				<div>&nbsp;Bonus</div>
				<div><input class="input-number" type="number" 
					name="data.traitParts.cha.perm"
					value="{{ data.traitParts.cha.perm }}"></div>
			</div>
				
		</div>
		</div>

		<div class="trait-box flex-row" trait-drag="cor">
			<div class="flex-col">

				<div><h4 class="sub-header">Courage</h4></div>
				<div class="big-trait-container">
					<input value="{{ data.traitParts.cor.value }}" disabled class="input-trait-subscript">
					<button trait-name="cor" class="btn btn-medium btn-traits">
						<span class="inline-icon">&#127922;</span>
						<span class="{{#stat_display data.traitParts.cor.total data.traitParts.cor.value data.traitParts.core.value }}{{/stat_display}}">
							{{ data.traitParts.cor.total }}
						</span>
					</button>
				</div>

				<div class="small-header flex-row">
					<div>&nbsp;Bonus</div>
					<div><input class="input-number" type="number"
						name="data.traitParts.cor.perm"
						value="{{ data.traitParts.cor.perm }}"></div>
				</div>
					
			</div>
		</div>
	
	</div><!-- End of second row.-->
	</div> <!-- End of grid child -->
	</div> <!-- End of traits -->

	<div class="vitals">
	<div class="gen-header">
		<div class="vitals-header">Vitals</div>
	</div>

	<div class="grid-child">
		<section class="table">
			<div class="header-row vitals-header">
				<div class="col"></div>
				<div class="col">Bonus</div>
				<div class="col">Current / Max</div>
			</div>

			<div class="row">
				<div class="col">Health</div>
				<div class="col">
					<input name="data.hp.bonus" value="{{ data.hp.bonus }}" class="input-number" type="number">
				</div>
				<div class="col">
					<input name="data.hp.current" value="{{ data.hp.current }}" class="input-number" type="number">
					/ <span>{{ data.hp.max }}</span> 
				</div>
			</div>

			<div class="row">
				<div class="col">Paradox</div>
				<div class="col">
					<input name="data.paradox.bonus" value="{{data.paradox.bonus}}" class="input-number" type="number">
				</div>
				<div class="col">
					<input name="data.paradox.current" value="{{ data.paradox.current }}" class="input-number" type="number">
					<span> / {{ data.paradox.max }}</span> 
					</div>
			</div>

			<div class="row">
				<div class="col">Carry</div>
				<div class="col">
					<input name="data.carry.bonus" value="{{data.carry.bonus}}" class="input-number" type="number">
				</div>
				<div class="col">
					<span class="non-input-number">{{ data.carry.current }}</span> /
					<span class="non-input-number">{{ data.carry.max }}</span>
				</div>
			</div>

			<div class="row">
				<div class="col-lead-short">Concentration</div>
				<div class="col">
					<input name="data.concentration.bonus" value="{{data.concentration.bonus}}" class="input-number" type="number">
				</div>
				<div class="col">
					<span class="non-input-number">{{ data.concentration.current }}</span> /
					<span class="non-input-number">{{ data.concentration.max }}</span>
				</div>
			</div>

			<div class="row">
				<div class="col">Action Points</div>
				<div class="col">
					<input name="data.actionPoints.bonus" value="{{data.actionPoints.bonus}}" class="input-number" type="number">
				</div>

				<div class="col">
					<span class="non-input-number">{{ data.actionPoints.current }}</span> /
					<span class="non-input-number">{{ data.actionPoints.max }}</span> 
				</div>
			</div>

			<div class="row">
				<div class="col">Movement</div>
				<div class="col">
					<input name="data.movement.bonus" value="{{data.movement.bonus}}" class="input-number" type="number">
				</div>

				<div class="col">
					<span class="non-input-number">{{ data.movement.current }}</span> /
					<span class="non-input-number">{{ data.movement.max }}</span>
				</div>
			</div>

		</section>

		<section class="table">
			<div class="header-row vitals-header">
				<div class="col-center-align">Wound Roll</div>
				<div class="col">Paradox Roll</div>
			</div>

			<div class="row" utility-drag>
				<div class="col-center-align">
					<button wound-button class="btn btn-vitals">
						<span class="inline-icon">&#127922;</span>
					</button>
				</div>

				<div class="col" utility-drag>
					<button paradox-button class="btn btn-vitals">
						<span class="inline-icon">&#127922;</span>
					{{ data.paradox.current }}</button>
				</div>
			</div>
		</section>

		<section class="table">
			<div class="header-row vitals-header">
				<div class="col-lead-short"></div>
				<div class="col">Equip</div>
				<div class="col">Enchant</div>
				<div class="col">
					Roll
				</div>
			</div>

			{{#each data.defenses as |defense id|}}
			<div class="row" save-drag="{{id}}">
				<div class="col-lead-short">{{ defense.name }}</div>
				<div class="col"><input class="input-number" type="number" name="data.defenses.{{id}}.equip" value="{{ defense.equip }}"></div>
				<div class="col"><input class="input-number" type="number" name="data.defenses.{{id}}.enchant" value="{{ defense.enchant }}"></div>
				<div class="col">
					<button save-name={{id}} class="btn btn-vitals">
						<span class="inline-icon">&#127922;</span>
						{{ defense.value }}
					</button>
				</div>
			</div>
			{{/each}}
			
		</section>

		<section class="table">
			<div class="header-row vitals-header">
				<div class="col">Positive</div>
				<div class="col">Value</div>
				<div class="col">Negative</div>
			</div>

			<div class="row">
				<div class="col-no-leader">
					<span class="{{#if_greater data.contestedStatusEffects.haste 1}}success-text{{/if_greater}}">Haste</span>
				</div>
				<div class="col">
					<input class="input-number" name="data.contestedStatusEffects.haste" value="{{data.contestedStatusEffects.haste}}">
				</div>
				<div class="col">
					<span class="{{#if_less data.contestedStatusEffects.haste -1}}warn-text{{/if_less}}">Slow</span>
				</div>
			</div> <!-- End of Haste/ Slow -->

			<div class="row">
				<div class="col-no-leader">
					<span class="{{#if_greater data.contestedStatusEffects.regen 1}}success-text{{/if_greater}}">Regen</span>
				</div>
				<div class="col">
					<input class="input-number" name="data.contestedStatusEffects.regen" value="{{data.contestedStatusEffects.regen}}">
				</div>
				<div class="col">
					<span class="{{#if_less data.contestedStatusEffects.regen -1}}warn-text{{/if_less}}">Rot / Burn</span>
				</div>
			</div> <!-- End of Regen / Rot -->

			<div class="row">
				<div class="col-no-leader">
					<span class="{{#if_greater data.contestedStatusEffects.inspire 1}}success-text{{/if_greater}}">Inspire</span>
				</div>
				<div class="col">
					<input class="input-number" name="data.contestedStatusEffects.inspire" value="{{data.contestedStatusEffects.inspire}}">
				</div>
				<div class="col">
					<span class="{{#if_less data.contestedStatusEffects.inspire -1}}warn-text{{/if_less}}">Oppress</span>
				</div>
			</div> <!-- End of Inspire / Oppress -->

			<div class="row">
				<div class="col-no-leader">
					<span class="{{#if_greater data.contestedStatusEffects.enlighten 1}}success-text{{/if_greater}}">Enlighten</span>
				</div>
				<div class="col">
					<input class="input-number" name="data.contestedStatusEffects.enlighten" value="{{data.contestedStatusEffects.enlighten}}">
				</div>
				<div class="col">
					<span class="{{#if_less data.contestedStatusEffects.enlighten -1}}warn-text{{/if_less}}">Confuse</span>
				</div>
			</div> <!-- End of Enlighten / Confuse -->

			<div class="row">
				<div class="col-no-leader">
					<span class="{{#if_greater data.contestedStatusEffects.vigor 1}}success-text{{/if_greater}}">Vigor</span>
				</div>
				<div class="col">
					<input class="input-number" name="data.contestedStatusEffects.vigor" value="{{data.contestedStatusEffects.vigor}}">
				</div>
				<div class="col">
					<span class="{{#if_less data.contestedStatusEffects.vigor -1}}warn-text{{/if_less}}">Weak</span>
				</div>
			</div> <!-- End of Vigor / Weak-->

			<div class="row">
				<div class="col-no-leader">
					<span class="{{#if_greater data.contestedStatusEffects.lucky 1}}success-text{{/if_greater}}">Lucky</span>
				</div>
				<div class="col">
					<input class="input-number" name="data.contestedStatusEffects.lucky" value="{{data.contestedStatusEffects.lucky}}">
				</div>
				<div class="col">
					<span class="{{#if_less data.contestedStatusEffects.lucky -1}}warn-text{{/if_less}}">Unlucky</span>
			</div> <!-- End of Lucky / Unlucky -->
		</section>
	</div> <!-- End of Grid child -->
	</div> <!-- end of Vitals -->

	<div class="skill">
		
		<div class="gen-header">
			<div class="skills-header">Skills</div>
		</div>

	<div class="grid-child">
		<div class="flex-row">
			<button tab-name="grit" 
				{{#if_equal data.currentSkillTab "grit"}} selected {{/if_equal}} 
				class="btn btn-hi-medium btn-skills-tab">Grit</button>
			<button tab-name="cunning" 
				{{#if_equal data.currentSkillTab "cunning"}} selected {{/if_equal}} 
				class="btn btn-hi-medium btn-skills-tab">Cunning</button>
			<button tab-name="will" 
				{{#if_equal data.currentSkillTab "will"}} selected {{/if_equal}} 
				class="btn btn-hi-medium btn-skills-tab">Will</button>
		</div>

		<section class="table">
		<div class="header-row skills-header">
			<div class="col">&nbsp;</div>
			<div class="col">Trait</div>
			<div class="col">Equip</div>
			<div class="col">Enchant</div>
			<div class="col">Roll</div>
		</div>

		{{#if_equal data.currentSkillTab "grit" }}
			{{#each data.skills.grit as |skill id|}}
			<div class="row" skill-drag="{{id}}" skill-drag-type="grit">
				<div class="col">{{ name }}</div>
				<div class="col small-text">
					{{ capitalize skill.trait }}
				</div>
				<div class="col">
					<input type="number" name="data.skills.grit.{{id}}.equip" value="{{ skill.equip }}" class="input-number">
				</div>
				<div class="col">
					<input type="number" name="data.skills.grit.{{id}}.enchant" value="{{ skill.enchant }}" class="input-number">
				</div>
				<div class="col">
					<button grit-skill-name="{{ id }}" class="btn btn-skills">
						<span class="inline-icon">&#127922;</span>
						<span class="{{#stat_display skill.total skill.traitValue skill.traitValue}}{{/stat_display}}">
						{{ skill.total }}
						</span>
					</button>
				</div>
			</div>
			{{/each}}
		{{/if_equal}}

		{{#if_equal data.currentSkillTab "cunning" }}
			{{#each data.skills.cunning as |skill id|}}
			<div class="row" skill-drag="{{id}}" skill-drag-type="cunning">
				<div class="col">{{ skill.name }}</div>
				<div class="col small-text">
					{{ capitalize skill.trait }}
				</div>
				<div class="col">
					<input type="number" name="data.skills.cunning.{{id}}.equip" value="{{ skill.equip }}" class="input-number">
				</div>
				<div class="col">
					<input type="number" name="data.skills.cunning.{{id}}.enchant" value="{{ skill.enchant }}" class="input-number">
				</div>
				<div class="col">
					<button grit-skill-name="{{ id }}" class="btn btn-skills">
						<span class="inline-icon">&#127922;</span>
						<span class="{{#stat_display skill.total skill.traitValue skill.traitValue}}{{/stat_display}}">
						{{ skill.total }}
						</span>
					</button>
				</div>
			</div>
			{{/each}}
		{{/if_equal}}

		{{#if_equal data.currentSkillTab "will" }}
			{{#each data.skills.will as |skill id|}}
			<div class="row" skill-drag="{{id}}" skill-drag-type="will">
				<div class="col">{{ skill.name }}</div>
				<div class="col small-text">
					{{ capitalize skill.trait }}
				</div>
				<div class="col">
					<input type="number" name="data.skills.will.{{id}}.equip" value="{{ skill.equip }}" class="input-number">
				</div>
				<div class="col">
					<input type="number" name="data.skills.will.{{id}}.enchant" value="{{ skill.enchant }}" class="input-number">
				</div>
				<div class="col">
					<button grit-skill-name="{{ id }}" class="btn btn-skills">
						<span class="inline-icon">&#127922;</span>
						<span class="{{#stat_display skill.traitValue skill.total skill.total}}{{/stat_display}}">
						{{ skill.total }}
						</span>
					</button>
				</div>
			</div>
			{{/each}}
		{{/if_equal}}
		</section>

		
	</div> <!-- End of Grid Child -->
	</div> <!-- End of Skills -->

	<div class="arcana">
		<div class="gen-header">
			<div class="arcana-header">Arcana</div>
		</div>

	<div class="grid-child">

		<section class="table">
			<div class="header-row arcana-header">
				<div class="col">&nbsp;</div>
				<div class="col">Weaver</div>
				<div class="col">Wyld</div>
				<div class="col">Wyrm</div>
			</div>

			<div class="row">
				<div class="col">Goverance</div>
				<div class="col" arcana-drag="time">
					<div class="small-sub-header">Time</div>
					<button arcana-name="time" class="btn btn-arcana">
						<span class="inline-icon">&#127922;</span>
						<span class="{{#stat_display data.arcana.time.total data.arcana.time.value data.arcana.time.value}}{{/stat_display}}">
						{{ data.arcana.time.total }}
						</span>
					</button>
				</div>
				<div class="col" arcana-drag="space">
					<div class="small-sub-header">Space</div>
					<button arcana-name="space" class="btn btn-arcana">
						<span class="inline-icon">&#127922;</span>
						<span class="{{#stat_display data.arcana.space.total data.arcana.space.value data.arcana.space.value}}{{/stat_display}}">
						{{ data.arcana.space.total }}
						</span>
					</button>
				</div>
				<div class="col" arcana-drag="entropy">
					<div class="small-sub-header">Entropy</div>
					<button arcana-name="entropy" class="btn btn-arcana">
						<span class="inline-icon">&#127922;</span>
						<span class="{{#stat_display data.arcana.entropy.total data.arcana.entropy.value data.arcana.entropy.value}}{{/stat_display}}">
						{{ data.arcana.entropy.total }}
						</span>
					</button>
				</div>
			</div>

			<div class="row">
				<div class="col">Patterns</div>
				<div class="col" arcana-drag="matter">
					<div class="small-sub-header">Matter</div>
					<button arcana-name="matter" class="btn btn-arcana">
						<span class="inline-icon">&#127922;</span>
						<span class="{{#stat_display data.arcana.matter.total data.arcana.matter.value data.arcana.matter.value}}{{/stat_display}}">
						{{ data.arcana.matter.total }}
						</span>
					</button>
				</div>
				<div class="col" arcana-drag="life">
					<div class="small-sub-header">Life</div>
					<button arcana-name="life" class="btn btn-arcana">
						<span class="inline-icon">&#127922;</span>
						<span class="{{#stat_display data.arcana.life.total data.arcana.life.value data.arcana.life.value}}{{/stat_display}}">
						{{ data.arcana.life.total }}
						</span>
					</button>
				</div>
				<div class="col" arcana-drag="">
					<div class="small-sub-header">Spirit</div>
					<button arcana-name="spirit" class="btn btn-arcana">
						<span class="inline-icon">&#127922;</span>
						<span class="{{#stat_display data.arcana.spirit.total data.arcana.spirit.value data.arcana.spirit.value}}{{/stat_display}}">
						{{ data.arcana.spirit.total }}
						</span>
					</button>
				</div>
			</div>

			<div class="row">
				<div class="col">Essence</div>
				<div class="col" arcana-drag="mind">
					<div class="small-sub-header">Mind</div>
					<button arcana-name="mind" class="btn btn-arcana">
						<span class="inline-icon">&#127922;</span>
						<span class="{{#stat_display data.arcana.mind.total data.arcana.mind.value data.arcana.mind.value}}{{/stat_display}}">
						{{ data.arcana.mind.total }}
						</span>
					</button>
				</div>
				<div class="col" arcana-drag="force">
					<div class="small-sub-header">Forces</div>
					<button arcana-name="force" class="btn btn-arcana">
						<span class="inline-icon">&#127922;</span>
						<span class="{{#stat_display data.arcana.force.total data.arcana.force.value data.arcana.force.value}}{{/stat_display}}">
						{{ data.arcana.force.total }}
						</span>
					</button>
				</div>
				<div class="col" arcana-drag="prime">
					<div class="small-sub-header">Prime</div>
					<button arcana-name="prime" class="btn btn-arcana">
						<span class="inline-icon">&#127922;</span>
						<span class="{{#stat_display data.arcana.prime.total data.arcana.prime.value data.arcana.prime.value}}{{/stat_display}}">
						{{ data.arcana.prime.total }}
						</span>
					</button>
				</div>
			</div>
		</section>

	</div> <!-- end of Gen Header-->
	</div> <!-- End of Arcana -->

	<div class="resistance">
	<div class="gen-header">
		<div class="resistance-header">Resistance</div>
	</div>

	<div class="grid-child">
		<section class="table">

			<div class="header-row resistance-header">
				<div class="col">Material</div>
				<div class="col">Elemental</div>
				<div class="col">Celestial</div>
			</div>

			<div class="resist-row">
				<div class="col">
					<div class="small-sub-header">Blunt</div>
					<select class="input-text input-medium" name="data.resist.blunt">
						{{#select data.resist.blunt}}
						<option value="0">Immune</option>
						<option value=".5">Resist</option>
						<option value="1">Normal</option>
						<option value="2">Weak</option>
						{{/select}}
					</select>
				</div>
				<div class="col">
					<div class="small-sub-header">Thermal</div>
					<select class="input-text input-medium" name="data.resist.thermal">
						{{#select data.resist.thermal}}
						<option value="0">Immune</option>
						<option value=".5">Resist</option>
						<option value="1">Normal</option>
						<option value="2">Weak</option>
						{{/select}}
					</select>
				</div>
				<div class="col">
					<div class="small-sub-header">Solar</div>
					<select class="input-text input-medium" name="data.resist.solar">
						{{#select data.resist.solar}}
						<option value="0">Immune</option>
						<option value=".5">Resist</option>
						<option value="1">Normal</option>
						<option value="2">Weak</option>
						{{/select}}
					</select>
				</div>
			</div>

			<div class="resist-row">
				<div class="col">
					<div class="small-sub-header">Peircing</div>
					<select class="input-text input-medium" name="data.resist.piercing">
						{{#select data.resist.piercing}}
						<option value="0">Immune</option>
						<option value=".5">Resist</option>
						<option value="1">Normal</option>
						<option value="2">Weak</option>
						{{/select}}
					</select>
				</div>
			
				<div class="col">
					<div class="small-sub-header">Electric</div>
					<select class="input-text input-medium" name="data.resist.electric">
						{{#select data.resist.electric}}
						<option value="0">Immune</option>
						<option value=".5">Resist</option>
						<option value="1">Normal</option>
						<option value="2">Weak</option>
						{{/select}}
					</select>
				</div>
				<div class="col">
					<div class="small-sub-header">Lunar</div>
					<select class="input-text input-medium" name="data.resist.lunar">
						{{#select data.resist.lunar}}
						<option value="0">Immune</option>
						<option value=".5">Resist</option>
						<option value="1">Normal</option>
						<option value="2">Weak</option>
						{{/select}}
					</select>
				</div>
			</div>

			<div class="resist-row">
				<div class="col">
					<div class="small-sub-header">Slashing</div>
					<select class="input-text input-medium" name="data.resist.slashing">
						{{#select data.resist.slashing}}
						<option value="0">Immune</option>
						<option value=".5">Resist</option>
						<option value="1">Normal</option>
						<option value="2">Weak</option>
						{{/select}}
					</select>
				</div>
			
				<div class="col">
					<div class="small-sub-header">Toxic</div>
					<select class="input-text input-medium" name="data.resist.toxic">
						{{#select data.resist.toxic}}
						<option value="0">Immune</option>
						<option value=".5">Resist</option>
						<option value="1">Normal</option>
						<option value="2">Weak</option>
						{{/select}}
					</select>
				</div>
				<div class="col">
					<div class="small-sub-header">Banal</div>
					<select class="input-text input-medium" name="data.resist.banal">
						{{#select data.resist.banal}}
						<option value="0">Immune</option>
						<option value=".5">Resist</option>
						<option value="1">Normal</option>
						<option value="2">Weak</option>
						{{/select}}
					</select>
				</div>
			</div>

		</section>
	</div><!-- End of Grid-Child-->
	
	</div><!-- End of Resistance Header -->

	<div class="enchantments">
		<div class="gen-header">
			<div class="enchantments-header">Bonuses</div>
			<button add-enchant="true" class="btn btn-icon btn-success">
				<img src="systems/mage/img/icons/add-row.png">
			</button>
		</div>
		<div class="grid-child">
			<section class="table">
				<div class="header-row arcana-header">
					<div class="col">Source</div>
					<div class="col">Apply?</div>
					<div class="col">Type</div>
					<div class="col">Subtype</div>
					<div class="col">Value</div>
					<div class="col">Duration</div>
					<div class="col">Arcana</div>
					<div class="col">Concen.</div>
					<div class="col"></div>
				</div>

				
				{{#each data.enchants as |enchant id| }}
				<div class="row">
					<div class="col">
						<input class="input-text input-wide" value="{{ enchant.source }}" name="data.enchants.{{id}}.source">
					</div>
					<div class="col">
						{{#if enchant.applySelf }}
							<button set-self="{{id}}" class="btn btn-icon btn-success">
									<img src="systems/mage/img/icons/checkmark.png">
							</button>
						{{else}}
							<button set-self="{{id}}" class="btn btn-icon btn-warn">
								<img src="systems/mage/img/icons/x-mark.png">
							</button>
						{{/if}}
					</div>
					<div class="col">
						<select name="data.enchants.{{id}}.type" class="input-text  input-medium">
						{{#select enchant.type}}
							<option value=""></option>
							<option value="damage">Damage</option>
							<option value="healing">Healing</option>
							<option value="resist">Resist</option>
							<option value="status">Status Effect</option>
							<option value="utility">Utility</option>
							<option value="vitals">Bonus Vitals</option>
							<option value="traits">Bonus Traits</option>
							<option value="skills">Bonus Skills</option>
							<option value="arcana">Bonus Arcana</option>
						{{/select}}
						<select>
					</div>
					<div class="col">
						{{> "systems/mage/partials/effect-selector.html" effect=enchant id=id beginkey="data.enchants" endkey="subtype"}}
					</div>
					<div class="col">
						<input type="number" class="input-number" value="{{enchant.value}}" name="data.enchants.{{id}}.value">
					</div>
					<div class="col">
						<input type="number" class="input-number" value="{{ enchant.duration }}" name="data.enchants.{{id}}.duration">
					</div>
					<div class="col">
						<input type="number" class="input-number" value="{{ enchant.arcana }}" name="data.enchants.{{id}}.arcana">
					</div>
					<div class="col">
						<input type="number" class="input-number" value="{{ enchant.concentrate }}" name="data.enchants.{{id}}.concentrate">
					</div>

					<div class="col">
						<button delete-enchant="{{id}}" class="btn btn-icon btn-warn">
							<img src="systems/mage/img/icons/trash.png">
						</button>
					</div>
				</div>
				{{/each}}

				<div class="row">
					<div class="col">
						
					</div>
				</div>
			</section>
		</div>
	</div>
</div>
{{/if_equal}}

{{#if_equal data.currentTab "equipment" }}
<div id="equipment" class="tab equipment-container equipment-tab">
	<div class="equip-list-grid">
		<div class="gen-header">
			<div class="equip-list-header">Inventory</div>
		</div>

		<div class="grid-child">
			<div class="expandable">
				<div button-expandable="weapons" class="flex-row expandable-header {{#if_equal data.inventoryExpanded.weapons true}}open{{/if_equal}}">
					<div class="flex-1">Weapons</div>
					<div class="flex-half flex-justify-self-right"></div>
				</div>

				<div expandable-data="weapons" class="weapons-list expanded {{#if_equal data.inventoryExpanded.weapons true}}open{{/if_equal}}">
					<section class="table">
						<div class="header-row skills-header">
							<div class="col">Weapon</div>
							<div class="col">Properties</div>
							<div class="col">Styles</div>
							<div class="col">&nbsp;</div>
						</div>
						{{#each data.weapons as |weapon id| }}
						<div weapon-drag data-item-id="{{weapon._id}}" class="row">
							
							<div class="col-bordered">
								<div class="flex">
									<img class="inventory-item" src="{{weapon.img}}" weapon-drag data-item-id="{{weapon._id}}" >
									<div style="width: 100%">
										<div class="pad-4">{{weapon.name}}</div>
										<div class="small-text pad-4">{{ weapon.data.hands }} Handed {{ capitalize weapon.data.weaponType }}</div>
										<div class="pad-4">
											<span class="non-input-number">{{ weapon.data.dmg }} Dmg</span>
											<span class="non-input-number">{{ weapon.data.ap }} AP</span>
										</div>
									</div>
								</div>
								
							</div>

							<div class="col-bordered pad-4">
								{{#each weapon.data.implicitMods as |mod id|}}
								<div class="justify-content-between pad-4">
									<span>{{ capitalize mod.modType }}</span>
									<span class="non-input-number">{{ mod.modValue }}</span>
								</div>
								{{/each}}
							</div>

							<div class="col-bordered pad-4">
								{{#each weapon.data.styles as |style id|}}
								<div class="justify-content-between pad-4">
									<div>
										<span>{{ capitalize style.skill }}</span>
										<span class="non-input-number">{{ style.total }}</span>
									</div>
									<div>
										<span class="non-input-number">{{ style.dmgInterval }}</span>
										<span class="non-input-number">{{ capitalize style.dmgType }}</span>
									</div>
									
								</div>
								{{/each}}
							</div>

							<div class="col-bordered">
								<div>
									<button edit-weapon="{{weapon._id}}" class="btn btn-icon btn-neutral">
										<img src="systems/mage/img/icons/gear.png">
									</button>
									<button delete-weapon="{{weapon._id}}" class="btn btn-icon btn-warn">
										<img src="systems/mage/img/icons/trash.png">
									</button>
								</div>
								<div>
									<button roll-weapon="{{weapon._id}}" class="btn btn-vitals btn">
										<span class="inline-icon">🎲</span> {{ weapon.total }}
									</button>
								</div>
							</div>
						</div>
						{{/each}}
					</section>

					<div class="flex-justify-self-right">
						<button add-weapon class="btn btn-large btn-success">
							<span>Add Weapon</span>
						</button>
					</div>
				</div>
	
			</div><!-- End of expandable weapons-->

			<div class="expandable">
				<div button-expandable="armor" class="flex-row expandable-header
					{{#if_equal data.inventoryExpanded.armor true}}open{{/if_equal}}">
					<div class="flex-1">Armor</div>
					<div class="flex-half flex-justify-self-right">

					</div>
				</div>

				<div expandable-data="armor" class="expanded
					{{#if_equal data.inventoryExpanded.armor true}}open{{/if_equal}}
					">
					<section>
						<textarea class="textarea-big" name="data.equipmentTextNotes">
							{{data.equipmentTextNotes}}
						</textarea>
					</section>
				</div>
			</div>

			<div class="expandable">
				<div button-expandable="other" class="flex-row expandable-header
					{{#if_equal data.inventoryExpanded.other true}}open{{/if_equal}}
					">
					<div class="flex-1">Other Equipment</div>
					<div class="flex-half flex-justify-self-right">

					</div>
				</div>

				<div expandable-data="other" class="expanded
					{{#if_equal data.inventoryExpanded.other true}}open{{/if_equal}}
					">
					<section>
						Other Equipment & Consumables
					</section>
				</div>
			</div>

			<div class="expandable">
				<div button-expandable="assets" class="flex-row expandable-header
					{{#if_equal data.inventoryExpanded.assets true}}open{{/if_equal}}
					">
					<div class="flex-1">Assets & Income</div>
					<div class="flex-half flex-justify-self-right">

					</div>
				</div>

				<div expandable-data="assets" class="expanded
					{{#if_equal data.inventoryExpanded.assets true}}open{{/if_equal}} ">
					<section>
						Assets
					</section>
				</div>
			</div>

		</div>
	</div>

	<div class="doll-grid">
		<div class="gen-header">
			<div class="doll-header">Armor</div>
		</div>
		
		<div class="grid-child">
			<div class="paper-doll">
				<img src="systems/mage/img/sheets/paper-doll.png">

				<div class="armor-set-container">
					<div class="flex-row">
						<div class="flex-1"></div>
						<div class="flex-1">
							<img class="armor-equipment" src="systems/mage/icons/items/equipment/cloak-fur.jpg"><br>
							<span class="small-text">Helmet</span>
						</div>
						<div class="flex-1">
							<img class="armor-equipment" src="systems/mage/icons/items/equipment/cowl.jpg"><br>
							<span class="small-text">Neck</span>
						</div>
					</div>

					<div class="flex-row">
						<div class="flex-1"></div>
						<div class="flex-1">
							<img class="armor-equipment" src="systems/mage/icons/items/armor/halfplate.png"><br>
							<span class="small-text">Armor</span>
						</div>
						<div class="flex-1">
							<img class="armor-equipment" src="systems/mage/icons/items/jewelry/ring-eye.jpg"><br>
							<span class="small-text">Right Ring</span>
						</div>
					</div>

					<div class="flex-row">
						<div class="flex-1">
							<img class="armor-equipment" src="systems/mage/icons/items/jewelry/ring-gold.jpg"><br>
							<span class="small-text">Left Ring</span>
						</div>
						<div class="flex-1">
							<img class="armor-equipment" src="systems/mage/icons/items/jewelry/ring-gold.jpg"><br>
							<span class="small-text">Belt</span>
						</div>
						<div class="flex-1">
							
						</div>
					</div>
					
					<div class="flex-row">
						<div class="flex-1"></div>
						<div class="flex-1">
							<img class="armor-equipment" src="systems/mage/icons/items/equipment/boots.png"><br>
							<span class="small-text">Boots</span>
						</div>
						<div class="flex-1"></div>
					</div>

				</div>
			</div>
		</div>
	</div>

	<div class="weapon-set-grid">
		<div class="gen-header">
			<div class="weapon-set-header">Weapons</div>
		</div>

		<div class="grid-child">
			<section class="table">
				<div class="row weapon-set-container">
					<div class="col-lead-short">
						<button class="btn btn-neutral">Equip<br>Set 1</button>
					</div>
					<div class="col">
						<img src="systems/mage/icons/items/weapons/battleaxe.png"><br>
						<span class="small-text">Battleaxe of Justice</span>
					</div>
					<div class="col">
						<img src="systems/mage/icons/items/armor/shield.png"><br>
						<span class="small-text">Mirror Shield</span>
					</div>
				</div>

				<div class="row weapon-set-container">
					<div class="col-lead-short">
						<button class="btn btn-neutral">Equip<br>Set 2</button>
					</div>
					<div class="col">
						<img src="systems/mage/icons/items/weapons/battleaxe.png"><br>
						<span class="small-text">Battleaxe of Justice</span>
					</div>
					<div class="col">
						<img src="systems/mage/icons/items/armor/shield.png"><br>
						<span class="small-text">Mirror Shield</span>
					</div>
				</div>

				<div class="row weapon-set-container">
					<div class="col-lead-short">
						<button class="btn btn-neutral">Equip<br>Set 3</button>
					</div>
					<div class="col">
						<img src="systems/mage/icons/items/weapons/battleaxe.png"><br>
						<span class="small-text">Battleaxe of Justice</span>
					</div>
					<div class="col">
						<img src="systems/mage/icons/items/armor/shield.png"><br>
						<span class="small-text">Mirror Shield</span>
					</div>
				</div>

				<div class="row weapon-set-container">
					<div class="col-lead-short">
						<button class="btn btn-neutral">Equip<br>Set 3</button>
					</div>
					<div class="col">
						<img src="systems/mage/icons/items/weapons/battleaxe.png"><br>
						<span class="small-text">Battleaxe of Justice</span>
					</div>
					<div class="col">
						<img src="systems/mage/icons/items/armor/shield.png"><br>
						<span class="small-text">Mirror Shield</span>
					</div>
				</div>
			</section>
		</div>
	</div>
</div> <!-- End of Equipment Tab -->
{{/if_equal}}

{{#if_equal data.currentTab "spellbook"}}
<div id="spellbook" class="tab spell-book-container spellbook-tab">
	<div class="spellbook-filter-grid">
		<div class="gen-header">
			<div class="spellbook-filter-header">Filters</div>
		</div>
	
		<div class="grid-child">

		</div>
	</div>

	<div class="spellbook-sort-grid">
		<div class="gen-header">
			<div class="spellbook-sort-header">Hand</div>
		</div>

		<div class="grid-child justify-content-between">
			<button class="btn btn-arcana btn-tall" new-hand>New Hand</button>
			<button class="btn btn-arcana btn-tall" new-draw>Draw Card</button>
		</div>
	</div>

	<div class="spellbook-rote-grid">
		<div class="gen-header">
			<div class="spellbook-rote-header">Rotes</div>
		</div>

		<div class="grid-child">
			<div class="justify-content-between">
				<span>Memorized</span>
				<span class="non-input-number">{{ data.memorized }}</span>
			</div>
			<div class="justify-content-between">
				<span>Remaining</span>
				<span class="non-input-number">{{ data.remainingMemorized }}</span>
			</div>
		</div>
	</div>

	<div class="spellbook-list-grid">
		<div class="gen-header">
			<div class="spellbook-list-header">Spellbook</div>
		</div>

		<div class="grid-child">
			{{#each data.spells as |spell id|}}
			<div class="one-third-element">
				<div class="flex mini-card-top" spell-drag data-item-id="{{spell._id}}">
					<div>
						<img class="inventory-item" src="{{spell.img}}" spell-drag data-item-id="{{spell._id}}">
						<div class="justify-content-between spell-count-container">
							<div>
								{{#if spell.data.memorized.value }}
									<button memorize-spell="{{spell._id}}" class="btn btn-icon btn-success">
										<img src="systems/mage/img/icons/memorize.png">
									</button>
									x 
									<span class="non-input-number">{{spell.data.memorized.number}}</span>
								{{else}}
									<button memorize-spell="{{spell._id}}" class="btn btn-icon btn-warn">
										<img src="systems/mage/img/icons/memorize.png">
									</button>
								{{/if}}
							</div>
						</div>
					</div>
					<div class="flex-3">
						<div>
							<b>{{ spell.name }}</b>
						</div>
						
						<div>
							<span class="small-text">{{ capitalize spell.data.spellType }} Spell</span>
						</div>

						<div class="justify-content-between">
							<span class="row-subtitle">Vulgarity</span>
							<span class="non-input-number">{{ capitalize spell.data.vulgarity }}</span>
						</div>

						<div class="justify-content-between">
							<span class="row-subtitle">Paradox</span>
							<span class="non-input-number">{{ spell.data.paradox }}</span>
						</div>

						<div class="justify-content-between">
							<span class="row-subtitle">Arcana</span>
							<span class="non-input-number">{{ spell.data.arcana }}</span>
						</div>

					</div>
					<div class="flex-2">
						<div class="justify-content-between">
							<span>
								<button edit-spell="{{spell._id}}" class="btn btn-icon btn-neutral">
									<img src="systems/mage/img/icons/gear.png">
								</button>
							</span>

							<span>
								<button delete-spell="{{spell._id}}" class="btn btn-icon btn-warn">
								<img src="systems/mage/img/icons/trash.png">
								</button>
							</span>
						</div>
					</div>
				</div>

				<div class="mini-card-mid justify-content-between">
					<div>
						{{#each spell.data.spheres as |sphere sphereId|}}
						<span class="tag">{{ capitalize sphere.type }} {{ sphere.num }}</span>
						{{/each}}
					</div>

					<div>
						{{#if_greater spell.data.arcana 1}}
						<button roll-spell="{{spell._id}}" class="btn btn-arcana">Cast</button>
						{{/if_greater}}
					</div>
				</div>

				<div class="flex mini-card-bottom">
					<div class="flex-3-quarters pad-4 spell-effect-list">
						<div class="justify-content-between">
							<span class="row-subtitle">&nbsp;Range</span>
							<span>
								{{#if_greater spell.data.range.num 1}}
								<span class="non-input-number">{{ spell.data.range.num }}</span>
								{{/if_greater}}
								<span class="non-input-number">{{ capitalize spell.data.range.type }}</span>
							</span>
						</div>

						<div class="justify-content-between">
							<span class="row-subtitle">&nbsp;Targets</span>
							<span>
								<span class="non-input-number">
									{{#if_greater spell.data.range.num 1}}
										{{ spell.data.targets.num }}&nbsp;
									{{/if_greater}}
									{{ capitalize spell.data.targets.type }}
								</span>
							</span>
							
						</div>

						<div class="justify-content-between">
							<span class="row-subtitle">&nbsp;Duration</span>
							<span>
								{{#if_greater spell.data.range.num 1}}
								<span class="non-input-number">{{ spell.data.duration.num }}</span>
								{{/if_greater}}
								<span class="non-input-number">{{ capitalize spell.data.duration.type }}</span>
							</span>
						</div>
					</div>

					<div class="flex-1 align-right pad-4 spell-effect-list">
						{{#each spell.data.effects as |effect id|}}
							{{#if_equal effect.type "damage" }}
								<div class="damage-display">
									Deals 
										<span class="non-input-number">{{ effect.num }}</span> 
										<span class="non-input-number">{{ capitalize effect.subtype }}</span>
									Dmg
								</div>
							{{/if_equal}}

							{{#if_equal effect.type "status" }}
								<div class="status-display">
									Inflicts 
										<span class="non-input-number">{{ effect.num }}</span>x 
										<span class="non-input-number">{{ capitalize effect.subtype }}</span>
								</div>
							{{/if_equal}}

							{{#if_equal effect.type "healing" }}
								<div class="healing-display">
									Heals 
										<span class="non-input-number">{{ effect.num }}</span> 
										<span class="non-input-number">HP</span>
								</div>
							{{/if_equal}}

							{{#if_equal effect.type "resist"}}
								<div class="resist-display">
									Resist
									<span class="non-input-number">{{ capitalize effect.subtype }}</span>
								</div>
							{{/if_equal}}

							{{#if_equal effect.type "bonus"}}
								<div class="bonus-display">
									Add <span class="non-input-number">{{ effect.num}}</span> to <span class="non-input-number">{{ capitalize effect.subtype }}</span>
								</div>
							{{/if_equal}}

							{{#if_equal effect.type "utility"}}
								<div class="utility-display">
									{{#if_equal effect.subtype "dispel"}}
									<span class="non-input-number">Dispels Enchantment</span>
									{{/if_equal}}

									{{#if_equal effect.subtype "counterspell"}}
									<span class="non-input-number">Counterspell</span>
									{{/if_equal}}

									{{#if_equal effect.subType "detection"}}
									<span class="non-input-number">Detection Spell</span>
									{{/if_equal}}
								</div>
							{{/if_equal}}
						{{/each}}
						</table>
					</div>
				</div>
			</div>
			{{/each}}

			<div class="one-third-element">
				<button add-spell class="btn btn-large btn-success">
					<span>Add New Spell</span>
				</button>
			</div>
		</div>
	</div>

	
</div><!-- End of Spellbook Tab -->
{{/if_equal}}

{{#if_equal data.currentTab "development" }}
<div id="development" class="tab development-container development-tab">
	<div class="char-points">
		<div class="gen-header">
			<div class="character-points-header">Character Points</div>
		</div>
	
	<div class="grid-child">
		<div>
		<section class="table">
			<div class="header-row">
				<div class="col">Journals</div>
				<div class="col">Blanket</div>
				<div class="col">Props</div>
				<div class="col">Training</div>
				<div class="col">Total</div>
			</div>

			<div class="clean-row">
				<div class="col pad-4">
					<input type="number" class="input-number" name="data.cp.journals" value="{{data.cp.journals}}">
				</div>
				<div class="col pad-4">
					<input type="number" class="input-number" name="data.cp.games" value="{{data.cp.games}}">
				</div>
				<div class="col pad-4">
					<input type="number" class="input-number" name="data.cp.props" value="{{data.cp.props}}">
				</div>
				<div class="col pad-4">
					<input type="number" class="input-number" name="data.cp.training" value="{{data.cp.training}}">
				</div>
				<div class="col pad-4">
					<span class="cp-calculated-display 
						{{#if_greater data.cp.spent data.cp.total}}
							display-bad
						{{/if_greater}}
						{{#if_greater data.cp.total data.cp.spent}}
							display-good
						{{/if_greater}}
					">
						{{ data.cp.spent }}
					</span>
					&nbsp;of&nbsp;
					<span class="cp-calculated-display">
						{{ data.cp.total }}
					</span>
				</div>
			</div>
		</section>
	</div>
	
	</div> <!-- End of grid child-->
	</div> <!-- End of Character Points -->
	
	<div class="trait-points">
		<div class="gen-header">
			<div class="traits-header">Traits</div>
			<!-- this is absolutely positioned -->
			{{#if_greater data.creation.unspentTraits 1 }}
				<div class="display-creation-tooltip">
					Unspent Trait CP: {{ data.creation.unspentTraits }}
				</div>
			{{/if_greater }}
		</div>

	<div class="grid-child">
		<section class="table">
			<div class="header-row traits-header">
				<div class="col"></div>
				<div class="col">Trait</div>
				<div class="col">Super</div>
				<div class="col">Total</div>
				<div class="col">Cost</div>
			</div>

			{{#each data.traitParts as |trait id|}}
			<div class="row">
				<div class="col">{{ trait.name }}</div>
				<div class="col"><input class="input-number" type="number" name="data.traitParts.{{id}}.base" value="{{ trait.base }}"></div>
				<div class="col"><input class="input-number" type="number" name="data.traitParts.{{id}}.super" value="{{ trait.super }}"></div>
				<div class="col">
					<div class="trait-calculated-display">{{ trait.total }}</div>
				</div>
				<div class="col">
					<div class="trait-calculated-display">{{ trait.cost }}</div>
				</div>
			</div>
			{{/each}}

			<div class="row">
				<div class="col-center-focus">TOTAL</div>
				<div class="col"></div>
				<div class="col"></div>
				<div class="col"></div>
				<div class="col">
					<div class="total-calculated-display">{{ data.cp.traits }}</div>
				</div>
			</div>
		</section>
	</div>
	</div>

	<div class="arcana-points">
		<div class="gen-header">
			<div class="arcana-header">Arcana</div>
			{{#if_greater data.creation.unspentArcana 1 }}
				<div class="display-creation-tooltip">
					Unspent Arcana CP: {{ data.creation.unspentArcana }}
				</div>
			{{/if_greater }}
		</div>
	<div class="grid-child">
		<section class="table">
			<div class="header-row arcana-header">
				<div class="col"></div>
				<div class="col">Arcana</div>
				<div class="col">Super</div>
				<div class="col">Total</div>
				<div class="col">Cost</div>
			</div>
			

			{{#each data.arcana as |sphere id|}}
			<div class="row">
				<div class="col">{{ name }}</div>
				<div class="col">
					<input name="data.arcana.{{id}}.base" value="{{ sphere.base }}" class="input-number" type="number">
				</div>
				<div class="col">
					<input name="data.arcana.{{id}}.super" value="{{ sphere.super }}" class="input-number" type="number">
				</div>
				<div class="col">
					<div class="arcana-calculated-display">{{ sphere.total }}</div>
				</div>
				<div class="col">
					<div class="arcana-calculated-display">{{ sphere.cost }}</div>
				</div>
			</div>
			{{/each}}

			<div class="row">
				<div class="col-center-focus">TOTAL</div>
				<div class="col"></div>
				<div class="col"></div>
				<div class="col"></div>
				<div class="col">
					<div class="total-calculated-display">{{ data.cp.arcana }}</div>
				</div>
			</div>
		</section>
	</div>
	</div>
	
	<div class="skill-points">
		<div class="gen-header">
			<div class="skills-header">Skills</div>
			{{#if_greater data.creation.unspentSkills 1 }}
				<div class="display-creation-tooltip">
					Unspent Skill CP : {{ data.creation.unspentSkills }}
				</div>
			{{/if_greater }}
		</div>
		

	<div class="grid-child">
	<div></div>
	<div class="flex">
		<div class="flex2">
		<section class="table">
			<div class="header-row skills-header">
				<div class="col">
					<span class="table-name-in-table"></span>
					Grit
				</div>
				<div class="col">Trait</div>
				<div class="col">Skill</div>
				<div class="col">Super</div>
				<div class="col">Total</div>
				<div class="col">Tier</div>
				<div class="col">Cost</div>
			</div>

			{{#each data.skills.grit as |skill id|}}
			<div class="row">
				<div class="col">{{ skill.name }}</div>
				<div class="col">{{ skill.trait }}</div>
				<div class="col">
					<input class="input-number" type="number" name="data.skills.grit.{{id}}.base" value="{{ skill.base }}">
				</div>
				<div class="col">
					<input class="input-number" type="number" name="data.skills.grit.{{id}}.super" value="{{ skill.super }}">
				</div>
				<div class="col">
					<div class="skill-calculated-display">{{ skill.total }}</div>
				</div>
				<div class="col">{{ skill.tier }}</div>
				<div class="col">
					<div class="skill-calculated-display">{{ skill.cost }}</div>
				</div>
			</div>
			{{/each}}
		</section>

		<div>&nbsp;</div>

		<section class="table">
			<div class="header-row skills-header">
				<div class="col">
					<span class="table-name-in-table">
						Cunning
					</span>
				</div>
				<div class="col">Trait</div>
				<div class="col">Skill</div>
				<div class="col">Super</div>
				<div class="col">Total</div>
				<div class="col">Tier</div>
				<div class="col">Cost</div>
			</div>

			{{#each data.skills.cunning as |skill id|}}
			<div class="row">
				<div class="col">{{ skill.name }}</div>
				<div class="col">{{ skill.trait }}</div>
				<div class="col">
					<input class="input-number" type="number" name="data.skills.cunning.{{id}}.base" value="{{ skill.base }}">
				</div>
				<div class="col">
					<input class="input-number" type="number" name="data.skills.cunning.{{id}}.super"  value="{{ skill.super }}">
				</div>
				<div class="col">
					<div class="skill-calculated-display">{{ skill.total }}</div>
				</div>
				<div class="col">{{ skill.tier }}</div>
				<div class="col">
					<div class="skill-calculated-display">{{ skill.cost }}</div>
				</div>
			</div>
			{{/each}}

			<div class="row">
				<div class="col-center-focus">TOTAL</div>
				<div class="col"></div>
				<div class="col"></div>
				<div class="col"></div>
				<div class="col"></div>
				<div class="col"></div>
				<div class="col">
					<div class="total-calculated-display">{{ data.cp.skills }}</div>
				</div>
			</div>
		</section>

		</div> <!-- End of left column-->

		<div class="flex2">
		<section class="table">
			<div class="header-row skills-header">
				<div class="col">
					<span class="table-name-in-table">
						Will
					</span>
				</div>
				<div class="col">Trait</div>
				<div class="col">Skill</div>
				<div class="col">Super</div>
				<div class="col">Total</div>
				<div class="col">Tier</div>
				<div class="col">Cost</div>
			</div>

			{{#each data.skills.will as |skill id| }}
			<div class="row">
				<div class="col">{{ skill.name }}</div>
				<div class="col">{{ skill.trait }}</div>
				<div class="col">
					<input class="input-number" type="number" name="data.skills.will.{{id}}.base" value="{{ skill.base }}">
				</div>
				<div class="col">
					<input class="input-number" type="number" name="data.skills.will.{{id}}.super" value="{{ skill.super }}">
				</div>
				<div class="col">
					<div class="skill-calculated-display">{{ skill.total }}</div>
				</div>
				<div class="col">{{ skill.tier }}</div>
				<div class="col">
					<div class="skill-calculated-display">{{ skill.cost }}</div>
				</div>
			</div>
			{{/each}}
		</section>

		<div>&nbsp;</div>

		<section class="table">
			<div class="header-row skills-header">
				<div class="col"></div>
				<div class="col">
					Specializations
				</div>
			</div>

			<div class="row">
				<div class="col">Cosmology</div>
				<div class="col">
					<textarea name="data.spec.cosmology" class="input-text textarea-small">{{ data.spec.cosmology }}</textarea>
				</div>
			</div>

			<div class="row">
				<div class="col">Occult</div>
				<div class="col">
					<textarea name="data.spec.occult" class="input-text textarea-small">{{ data.spec.occult }}</textarea>
				</div>
			</div>

			<div class="row">
				<div class="col">Academics</div>
				<div class="col">
					<textarea name="data.spec.academics" class="input-text textarea-small">{{ data.spec.academics }}</textarea>
				</div>
			</div>

			<div class="row">
				<div class="col">Survival</div>
				<div class="col">
					<textarea name="data.spec.survival" class="input-text textarea-small">{{ data.spec.survival }}</textarea>
				</div>
			</div>

			<div class="row">
				<div class="col">Craft</div>
				<div class="col">
					<textarea name="data.spec.craft" class="input-text textarea-small">{{ data.spec.craft }}</textarea>
				</div>
			</div>
		</section>

		</div>
	
	</div>
	</div>
		
	</div>
</div> <!-- End of Development -->
{{/if_equal}}

</form>