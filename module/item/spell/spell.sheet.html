<form class="spell-form">
<div class="spell-container">

<div class="flex">
	<div class="flex-3-quarters">
		<img class="spell-img" src="{{item.img}}" title="{{item.name}}" data-edit="img"/>
	</div>

	<div class="flex-2">
		<div class="grid-child">
			<section class="table">
				<div class="row">
					<div class="col">Name</div>
					<div class="col-left-align">
						<input name="name" value="{{ item.name }}"class="input-text">
					</div>
					<div class="col"></div>
				</div>

				<div class="row">
					<div class="col">Type</div>
					<div class="col-left-align">
						<select name="data.spellType" class="input-text input-medium">
							{{#select data.spellType}}
								<option value="simple">Simple</option>
								<option value="complex">Complex</option>
								<option value="extended">Extended</option>
								<option value="instant">Instant</option>
								<option value="enchantment">Enchantment</option>
							{{/select}}
						</select>
					</div>
					<div class="col"></div>
				</div>

				<div class="row">
					<div class="col-lead-short">Memorized</div>
					<div class="col-left-align">
						<input name="data.memorized.number" value="{{data.memorized.number}}" class="input-number">
					</div>
					<div class="col"></div>
				</div>

				<div class="row">
					<div class="col-lead-short">Vulgarity</div>
					<div class="col-left-align">
						<select name="data.vulgarity" class="input-text input-medium">
						{{#select data.vulgarity }}
							<option value="never">Never</option>
							<option value="coincidental">Coincidental</option>
							<option value="witness">Witness</option>
							<option value="always">Always</option>
						{{/select}}
						</select>
					</div>
					<div class="col"></div>
				</div>

				<div class="row arcana-row-height-fix">
					<div class="col">Arcana</div>
					<div class="col-left-align">
						&nbsp;&nbsp;
						<span class="non-input-number">{{ data.arcana }}</span>
						&nbsp;&nbsp;
						<span class="right-align">Roll Arcana?</span>
						&nbsp;
						{{#if data.rollArcana }}
							<button roll-arcana-switch="{{spell._id}}" class="btn btn-icon btn-neutral">
								<img src="systems/mage/img/icons/die.png">
							</button>
						{{else}}
							<button roll-arcana-switch="{{spell._id}}" class="btn btn-icon btn-warn">
								<img src="systems/mage/img/icons/die.png">
							</button>
						{{/if}}
					</div>
					<div class="col"><button test-roll class="btn btn-vitals">Roll</button></div>
				</div>


			</section>
		</div>
	</div><!-- End of Flex-2 -->
</div> <!-- End of flex row-->

<div class="grid-child">
	<div class="flex">
		<div class="flex-1">
			<section class="table">

				<div class="row">
					<div class="col">
						Range
					</div>
					<div class="col-left-align">
						<input name="data.range.num" value="{{data.range.num}}" class="input-number">
					</div>
					<div class="col-left-align">
						<select name="data.range.type" class="input-text input-medium">
							{{#select data.range.type}}
								<option value="self">Self</option>
								<option value="touch">Touch</option>
								<option value="hexes">Hexes</option>
								<option value="miles">Kilometers</option>
							{{/select}}
						</select>
					</div>

					<div class="col-lead-short">
						Targets
					</div>
					<div class="col-left-align">
						<input name="data.targets.num" value="{{data.targets.num}}" class="input-number">
					</div>
					<div class="col-left-align">					
						<select name="data.targets.type" class="input-text input-medium">
							{{#select data.targets.type}}
							<option value="self">Self</option>
							<option value="other">Other</option>
							<option value="targets">Targets</option>
							<option value="hexes">Hexes</option>
							<option value="radius">Radius</option>
							<option value="line">Line</option>
							<option value="cone">Cone</option>
							{{/select}}
						</select>
					</div>
				</div>

				<div class="row">
					<div class="col-lead-short">
						Duration
					</div>
					<div class="col-left-align">
						<input class="input-number" name="data.duration.num" value="{{ data.duration.num }}">
					</div>
					<div class="col-left-align">
						<select class="input-text  input-medium" name="data.duration.type">
							{{#select data.duration.type}}
								<option value="rounds">Rounds</option>
								<option value="hours">Hours</option>
								<option value="days">Days</option>
								<option value="reserved">Reserved</option>
								<option value="permanent">Permanent</option>
							{{/select}}
						</select>
					</div>
					
					<div class="col-lead-short">
						{{#if_equal data.targets.type "line"}}
						Line Width
						{{/if_equal }}

						{{#if_equal data.targets.type "cone"}}
						Cone Width
						{{/if_equal }}
					</div>

					<div class="col-left-align">
						{{#if_equal data.targets.type "line"}}
						<input name="data.targets.num2" value="{{data.targets.num2}}" class="input-number">
						{{/if_equal}}

						{{#if_equal data.targets.type "cone"}}
						<input name="data.targets.num2" value="{{data.targets.num2}}" class="input-number">
						{{/if_equal}}
					</div>

					<div class="col"
				</div>

			</section>
		</div>
	</div>
	<br>
	<div class="flex">
		<div class="flex-1">
		<div class="detail-header">
			Description
		</div>
		<section class="table">
			<div class="row">
				<div class="col">
					<textarea class="textarea-medium" name="data.description">{{ data.description }}</textarea>
				</div>
			</div>
		</section>
		</div>

		<div class="flex-1">
			<div class="detail-header">Roll Notes</div>
			<section class="table">
				<div class="row">
					<div class="col">
						<textarea class="textarea-medium" name="data.rollNotes">{{ data.rollNotes }}</textarea>
					</div>
				</div>
			</section>
		</div>
	</div>

	<div class="flex">
		<div class="flex-2">
			<div class="detail-header">Effects</div>
			<section class="table">
				<div class="header-row">
					<div class="col">Type</div>
					<div class="col">Subtype</div>
					<div class="col">Value</div>
					<div class="col">&nbsp;</div>
				</div>

				{{#each data.effects as |effect id|}}
				<div class="row">
					<div class="col">
						<select name="data.effects.{{id}}.type" class="input-text  input-medium">
						{{#select effect.type}}
							<option value=""></option>
							<option value="damage">Damage</option>
							<option value="healing">Healing</option>
							<option value="resist">Resist</option>
							<option value="status">Status Effect</option>
							<option value="bonus">Bonus</option>
							<option value="utility">Utility</option>
						{{/select}}
						<select>
					</div>

					<div class="col">
						{{> "systems/mage/partials/effect-selector.html" effect=effect id=id}}
					</div>

					<div class="col">
						<input class="input-number" name="data.effects.{{id}}.num" value="{{effect.num}}">
					</div>
					<div class="col">
						<button delete-effect="{{id}}" class="btn btn-icon btn-warn">
							<img src="systems/mage/img/icons/trash.png">
						</button>
					</div>
				</div>
				{{/each}}

				<div class="row">
					<div class="col"></div>
					<div class="col"></div>
					<div class="col"></div>
					<button add-effect class="btn btn-icon btn-success">
						<img src="systems/mage/img/icons/add-row.png">
					</button>
				</div>
			</section>
		</div>

		<div class="flex-1">
			<div class="detail-header">Spheres</div>
			<section class="table">
				<div class="header-row">
					<div class="col">Sphere</div>
					<div class="col">Level</div>
					<div class="col"></div>
				</div>
							
				{{#each data.spheres as |sphere id|}}
				<div class="row">
					<div class="col">
						<select name="data.spheres.{{id}}.type" class="input-text input-medium">
							{{#select sphere.type}}
							<option value=""></option>
							<option value="">-- Wyrm</option>
							<option value="entropy">Entropy</option>
							<option value="spirit">Spirit</option>
							<option value="force">Force</option>
							<option value="">-- Wyld</option>
							<option value="space">Space</option>
							<option value="life">Life</option>
							<option value="prime">Prime</option>
							<option value="">-- Weaver</option>
							<option value="time">Time</option>
							<option value="matter">Matter</option>
							<option value="mind">Mind</option>
							{{/select}}
						</select>
					</div>

					<div class="col">
						<input name="data.spheres.{{id}}.num" value="{{ sphere.num }}" class="input-number">
					</div>

					<div class="col">
						<button delete-sphere="{{id}}" class="btn btn-icon btn-warn">
							<img src="systems/mage/img/icons/trash.png">
						</button>
					</div>
				</div>
				{{/each}}
				
				<div class="row">
					<div class="col"></div>
					<div clas="col"></div>
					<div class="col">
						<button add-sphere class="btn btn-icon btn-success">
							<img src="systems/mage/img/icons/add-row.png">
						</button>
					</div>
				</div>
			</section>
		</div>
	</div><!-- End of 3rd flex  -->
</div> <!--<!--- end of grid child -->

</div> <!-- end of spell-container-->
</form>